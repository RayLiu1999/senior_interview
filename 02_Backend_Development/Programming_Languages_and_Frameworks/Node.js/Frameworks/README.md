# Node.js 框架

Node.js 擁有豐富的 Web 框架生態系統，本節涵蓋最流行的框架。

## 框架列表

### [Express](./Express/README.md)
- **難度**：3
- **重要程度**：5
- **特點**：簡單、靈活、生態豐富
- **適用場景**：REST API、小型應用、原型開發

### [NestJS](./NestJS/README.md)
- **難度**：7
- **重要程度**：5
- **特點**：TypeScript 優先、模組化、企業級
- **適用場景**：大型應用、微服務、團隊協作

### [Nuxt](./Nuxt/README.md)
- **難度**：6
- **重要程度**：4
- **特點**：Vue.js 服務端渲染、全棧框架
- **適用場景**：SSR 應用、靜態網站生成

## 框架對比

| 特性 | Express | NestJS | Koa | Fastify |
|------|---------|---------|-----|---------|
| 學習曲線 | 平緩 | 陡峭 | 平緩 | 平緩 |
| TypeScript | 支援 | 優先 | 支援 | 優先 |
| 性能 | 良好 | 良好 | 優秀 | 極佳 |
| 生態 | 豐富 | 成長中 | 中等 | 成長中 |
| 架構 | 簡單 | 複雜 | 簡單 | 中等 |
| 適用規模 | 中小型 | 大型 | 中型 | 中大型 |

## Express

### 核心概念
- **中間件**：請求處理流水線
- **路由**：HTTP 方法和路徑匹配
- **模板引擎**：EJS、Pug、Handlebars
- **錯誤處理**：錯誤處理中間件

### 最佳實踐
- 使用 express.Router() 組織路由
- 使用 async/await 處理非同步
- 統一錯誤處理中間件
- 使用 helmet 增強安全性

## NestJS

### 核心概念
- **模組（Module）**：功能組織單元
- **控制器（Controller）**：處理 HTTP 請求
- **服務（Service）**：業務邏輯層
- **依賴注入**：IoC 容器
- **裝飾器**：聲明式編程

### 最佳實踐
- 遵循 SOLID 原則
- 使用 DTO 進行數據驗證
- 使用 Guards 進行權限控制
- 使用 Interceptors 處理響應
- 編寫單元測試和 E2E 測試

## 其他框架

### Koa
- **特點**：Express 團隊開發，更現代的設計
- **優勢**：async/await 優先、更小的核心
- **適用**：需要更多控制權的中型項目

### Fastify
- **特點**：極致性能、插件架構
- **優勢**：Schema-based、TypeScript 友好
- **適用**：性能要求高的 API 服務

### Hapi
- **特點**：配置驅動、企業級
- **優勢**：內建功能豐富、安全性高
- **適用**：企業級應用、需要強類型驗證

## 選型建議

### 選擇 Express
- 快速開發原型或小型應用
- 團隊對 Express 熟悉
- 需要大量第三方中間件
- 靈活性優先於結構

### 選擇 NestJS
- 大型團隊協作項目
- 需要清晰的架構和約定
- TypeScript 項目
- 微服務架構
- 需要完整的測試支持

### 選擇 Fastify
- 性能是首要考量
- 需要 Schema 驗證
- TypeScript 項目
- API 密集型應用

### 選擇 Koa
- 需要更現代的中間件機制
- 中型項目
- 喜歡輕量級框架
- 需要更多控制權

## 性能優化

### 通用優化
- 使用 PM2 或 Cluster 模式
- 啟用壓縮（gzip/brotli）
- 使用快取（Redis、記憶體快取）
- 優化資料庫查詢
- 使用 CDN 處理靜態資源

### Express 優化
- 使用 express.static() 處理靜態文件
- 移除不必要的中間件
- 使用 compression 中間件
- 合理設置中間件順序

### NestJS 優化
- 使用快取攔截器
- 配置靜態模組
- 使用編譯優化（webpack）
- 啟用生產模式
