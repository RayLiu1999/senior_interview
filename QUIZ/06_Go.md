# Go - é‡é»è€ƒé¡Œ (Quiz)

> é€™ä»½è€ƒé¡Œæ˜¯å¾ Go ç¨‹å¼èªè¨€ç« ç¯€ä¸­æŒ‘é¸å‡º**é‡è¦ç¨‹åº¦ 4-5** çš„æ ¸å¿ƒé¡Œç›®ï¼Œè¨­è¨ˆæˆè‡ªæˆ‘æ¸¬é©—çš„å½¢å¼ã€‚
> 
> **ä½¿ç”¨æ–¹å¼**ï¼šå…ˆå˜—è©¦è‡ªå·±å›ç­”å•é¡Œï¼Œå†å±•é–‹ã€Œç­”æ¡ˆæç¤ºã€æ ¸å°é‡é»ï¼Œæœ€å¾Œé»æ“Šé€£çµæŸ¥çœ‹å®Œæ•´è§£ç­”ã€‚

---

## ğŸ”„ ä¸¦è¡Œæ¨¡å‹ (Concurrency)

### Q1: Goroutine å’Œ Thread æœ‰ä»€éº¼å€åˆ¥ï¼Ÿ

**é›£åº¦**: â­â­â­â­ (4) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹è§£é‡‹ Goroutine çš„å·¥ä½œåŸç†ï¼Œä»¥åŠå®ƒèˆ‡ä½œæ¥­ç³»çµ±åŸ·è¡Œç·’çš„å·®ç•°ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

| ç‰¹æ€§ | Goroutine | OS Thread |
|------|-----------|-----------|
| **è¨˜æ†¶é«”é–‹éŠ·** | ~2KBï¼ˆå¯å‹•æ…‹å¢é•·ï¼‰ | ~1-8MBï¼ˆå›ºå®šå †ç–Šï¼‰ |
| **å‰µå»ºæˆæœ¬** | æ¥µä½ | é«˜ï¼ˆç³»çµ±èª¿ç”¨ï¼‰ |
| **èª¿åº¦æ–¹å¼** | Go Runtimeï¼ˆç”¨æˆ¶æ…‹ï¼‰ | OS Kernelï¼ˆæ ¸å¿ƒæ…‹ï¼‰ |
| **ä¸Šä¸‹æ–‡åˆ‡æ›** | å¿«é€Ÿ | è¼ƒæ…¢ |

**GMP èª¿åº¦æ¨¡å‹**ï¼š
- **G (Goroutine)**ï¼šåŸ·è¡Œçš„ä»»å‹™
- **M (Machine)**ï¼šä½œæ¥­ç³»çµ±åŸ·è¡Œç·’
- **P (Processor)**ï¼šèª¿åº¦å™¨ï¼ˆé‚è¼¯è™•ç†å™¨ï¼‰

**é—œéµé»**ï¼š
- Goroutine æ˜¯å”ä½œå¼èª¿åº¦
- Runtime åœ¨ç‰¹å®šæ™‚æ©Ÿï¼ˆå‡½æ•¸èª¿ç”¨ã€Channel æ“ä½œç­‰ï¼‰æ’å…¥èª¿åº¦é»
- å¯ä»¥è¼•é¬†å‰µå»ºæ•¸è¬å€‹ Goroutine

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/goroutine_vs_thread.md)

---

### Q2: Buffered Channel å’Œ Unbuffered Channel æœ‰ä»€éº¼å€åˆ¥ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­ (5) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

é€™æ˜¯ Go ä¸¦è¡Œç·¨ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µï¼Œè«‹è§£é‡‹å…©è€…çš„è¡Œç‚ºå·®ç•°å’Œé©ç”¨å ´æ™¯ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

| ç‰¹æ€§ | Unbuffered | Buffered |
|------|------------|----------|
| **å‰µå»ºæ–¹å¼** | `make(chan T)` | `make(chan T, n)` |
| **ç™¼é€é˜»å¡** | ç­‰å¾…æ¥æ”¶æ–¹ | ç·©è¡å€æ»¿æ™‚ |
| **æ¥æ”¶é˜»å¡** | ç­‰å¾…ç™¼é€æ–¹ | ç·©è¡å€ç©ºæ™‚ |
| **åŒæ­¥èªç¾©** | åŒæ­¥é€šè¨Š | ç•°æ­¥é€šè¨Š |

**Unbuffered ç”¨é€”**ï¼š
- éœ€è¦åš´æ ¼åŒæ­¥çš„å ´æ™¯
- ç¢ºä¿ç™¼é€å’Œæ¥æ”¶åŒæ™‚ç™¼ç”Ÿ
- å¸¸ç”¨æ–¼ä¿¡è™Ÿå‚³é

**Buffered ç”¨é€”**ï¼š
- ç”Ÿç”¢è€…æ¶ˆè²»è€…æ¨¡å¼
- å‰Šå³°å¡«è°·
- é¿å… Goroutine é˜»å¡

**æ³¨æ„**ï¼šé—œé–‰å·²é—œé–‰çš„ Channel æœƒ panicï¼

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/channel_buffered_vs_unbuffered.md)

---

### Q3: Select èªå¥çš„å·¥ä½œåŸç†å’Œæ‡‰ç”¨å ´æ™¯æ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­ (6) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹è§£é‡‹ select å¦‚ä½•å¯¦ç¾å¤šè·¯è¤‡ç”¨ï¼Œä»¥åŠå¸¸è¦‹çš„ä½¿ç”¨æ¨¡å¼ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**Select ç‰¹æ€§**ï¼š
- åŒæ™‚ç›£è½å¤šå€‹ Channel
- éš¨æ©Ÿé¸æ“‡ä¸€å€‹å¯ç”¨çš„ case åŸ·è¡Œ
- æ²’æœ‰å¯ç”¨ case æ™‚é˜»å¡ï¼ˆé™¤éæœ‰ defaultï¼‰

**å¸¸è¦‹æ¨¡å¼**ï¼š

**1. è¶…æ™‚æ§åˆ¶**ï¼š
```go
select {
case result := <-ch:
    // è™•ç†çµæœ
case <-time.After(time.Second):
    // è¶…æ™‚è™•ç†
}
```

**2. éé˜»å¡æ“ä½œ**ï¼š
```go
select {
case ch <- data:
    // ç™¼é€æˆåŠŸ
default:
    // Channel æ»¿ï¼Œè·³é
}
```

**3. å„ªé›…é€€å‡º**ï¼š
```go
select {
case <-done:
    return
case data := <-workCh:
    process(data)
}
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/select_statement_and_use_cases.md)

---

### Q4: Mutex å’Œ RWMutex çš„å€åˆ¥æ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­ (5) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹æ¯”è¼ƒé€™å…©ç¨®é–çš„ä½¿ç”¨å ´æ™¯å’Œæ•ˆèƒ½ç‰¹æ€§ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

| ç‰¹æ€§ | Mutex | RWMutex |
|------|-------|---------|
| **é–é¡å‹** | äº’æ–¥é– | è®€å¯«é– |
| **è®€æ“ä½œ** | äº’æ–¥ | å¯ä¸¦è¡Œ |
| **å¯«æ“ä½œ** | äº’æ–¥ | äº’æ–¥ |
| **é©ç”¨å ´æ™¯** | è®€å¯«å‡è¡¡ | è®€å¤šå¯«å°‘ |

**RWMutex æ–¹æ³•**ï¼š
- `RLock()` / `RUnlock()`ï¼šè®€é–
- `Lock()` / `Unlock()`ï¼šå¯«é–

**é¸æ“‡æŒ‡å—**ï¼š
- è®€å¯«æ¯”ä¾‹ > 10:1 â†’ RWMutex
- è®€å¯«å‡è¡¡ â†’ Mutex
- è‡¨ç•Œå€å¾ˆå° â†’ å¯èƒ½ Mutex æ›´å¿«

**æ³¨æ„äº‹é …**ï¼š
- ä¸è¦è¤‡è£½ Mutex
- å¿…é ˆ Unlock åŒä¸€å€‹é–
- é¿å…æ­»é–ï¼ˆé–é †åºä¸€è‡´ï¼‰

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/mutex_vs_rwmutex.md)

---

### Q5: WaitGroup å¦‚ä½•æ­£ç¢ºä½¿ç”¨ï¼Ÿ

**é›£åº¦**: â­â­â­â­ (4) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹èªªæ˜ WaitGroup çš„ç”¨é€”å’Œå¸¸è¦‹éŒ¯èª¤ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**WaitGroup ç”¨é€”**ï¼šç­‰å¾…ä¸€çµ„ Goroutine å®Œæˆ

**ä¸‰å€‹æ–¹æ³•**ï¼š
- `Add(n)`ï¼šå¢åŠ è¨ˆæ•¸å™¨
- `Done()`ï¼šæ¸›å°‘è¨ˆæ•¸å™¨ï¼ˆç­‰åŒæ–¼ `Add(-1)`ï¼‰
- `Wait()`ï¼šé˜»å¡ç›´åˆ°è¨ˆæ•¸å™¨æ­¸é›¶

**æ­£ç¢ºç”¨æ³•**ï¼š
```go
var wg sync.WaitGroup

for i := 0; i < 5; i++ {
    wg.Add(1)  // åœ¨å•Ÿå‹• Goroutine å‰èª¿ç”¨
    go func() {
        defer wg.Done()
        // å·¥ä½œ...
    }()
}

wg.Wait()  // ç­‰å¾…æ‰€æœ‰å®Œæˆ
```

**å¸¸è¦‹éŒ¯èª¤**ï¼š
1. åœ¨ Goroutine å…§éƒ¨èª¿ç”¨ `Add()`
2. å¿˜è¨˜èª¿ç”¨ `Done()`
3. `Add()` å’Œå¯¦éš› Goroutine æ•¸é‡ä¸åŒ¹é…
4. è¨ˆæ•¸å™¨è®Šæˆè² æ•¸ï¼ˆpanicï¼‰

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/waitgroup_usage.md)

---

## âš™ï¸ å…§éƒ¨æ©Ÿåˆ¶ (Internals)

### Q6: Go çš„åƒåœ¾å›æ”¶æ©Ÿåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­â­â­ (8) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹è§£é‡‹ä¸‰è‰²æ¨™è¨˜æ³•å’Œå¯«å±éšœçš„åŸç†ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**ä¸‰è‰²æ¨™è¨˜æ³•**ï¼š

| é¡è‰² | å«ç¾© |
|------|------|
| **ç™½è‰²** | æœªè¨ªå•ï¼Œå¯èƒ½æ˜¯åƒåœ¾ |
| **ç°è‰²** | å·²è¨ªå•ï¼Œå­ç‰©ä»¶å¾…æƒæ |
| **é»‘è‰²** | å·²è¨ªå•ï¼Œå­ç‰©ä»¶å·²æƒæ |

**æµç¨‹**ï¼š
1. åˆå§‹ï¼šæ‰€æœ‰ç‰©ä»¶ç‚ºç™½è‰²
2. æ¨™è¨˜ï¼šå¾æ ¹é–‹å§‹ï¼Œç° â†’ æƒæå­ç‰©ä»¶ â†’ é»‘
3. æ¸…é™¤ï¼šå‰©é¤˜ç™½è‰²ç‰©ä»¶ç‚ºåƒåœ¾

**å¯«å±éšœ**ï¼š
- è§£æ±ºä¸¦ç™¼æ¨™è¨˜æ™‚çš„ç‰©ä»¶ä¸Ÿå¤±å•é¡Œ
- ç•¶é»‘è‰²ç‰©ä»¶å¼•ç”¨ç™½è‰²ç‰©ä»¶æ™‚ï¼Œå°‡ç™½è‰²è®Šç°

**GC è§¸ç™¼æ¢ä»¶**ï¼š
- å †è¨˜æ†¶é«”å¢é•·åˆ°é–¾å€¼
- æ‰‹å‹• `runtime.GC()`
- è¶…é 2 åˆ†é˜æœª GC

**å„ªåŒ–å»ºè­°**ï¼š
- æ¸›å°‘å°ç‰©ä»¶åˆ†é…
- ä½¿ç”¨ sync.Pool
- é åˆ†é… slice å®¹é‡

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Internals/go_garbage_collection.md)

---

### Q7: Defer çš„åŸ·è¡Œæ™‚æ©Ÿå’Œé †åºæ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­ (6) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹è§£é‡‹ defer çš„å·¥ä½œåŸç†ã€åŸ·è¡Œé †åºï¼Œä»¥åŠèˆ‡ return çš„é—œä¿‚ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**åŸºæœ¬è¦å‰‡**ï¼š
1. defer åœ¨å‡½æ•¸è¿”å›**ä¹‹å‰**åŸ·è¡Œ
2. å¤šå€‹ defer æŒ‰ **LIFOï¼ˆå¾Œé€²å…ˆå‡ºï¼‰** é †åºåŸ·è¡Œ
3. defer çš„åƒæ•¸åœ¨**è²æ˜æ™‚**æ±‚å€¼

**èˆ‡ return çš„é—œä¿‚**ï¼š
```go
func example() (result int) {
    defer func() { result++ }()
    return 0  // result æœ€çµ‚ç‚º 1
}
```

**åŸ·è¡Œé †åº**ï¼š
1. è¨ˆç®—è¿”å›å€¼
2. åŸ·è¡Œ defer
3. è¿”å›

**å¸¸è¦‹ç”¨é€”**ï¼š
- è³‡æºé‡‹æ”¾ï¼ˆæ–‡ä»¶ã€é–ï¼‰
- panic æ¢å¾©
- æ—¥èªŒè¨˜éŒ„

**é™·é˜±**ï¼š
```go
for i := 0; i < 3; i++ {
    defer fmt.Println(i)  // è¼¸å‡ºï¼š2, 1, 0
}
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Internals/defer_execution.md)

---

### Q8: Slice å’Œ Array çš„å€åˆ¥æ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­ (4) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹è§£é‡‹ Slice çš„åº•å±¤çµæ§‹å’Œæ“´å®¹æ©Ÿåˆ¶ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

| ç‰¹æ€§ | Array | Slice |
|------|-------|-------|
| **é•·åº¦** | å›ºå®š | å‹•æ…‹ |
| **å‚³éæ–¹å¼** | å€¼å‚³éï¼ˆæ‹·è²ï¼‰ | å¼•ç”¨å‚³é |
| **è²æ˜** | `[5]int` | `[]int` |

**Slice åº•å±¤çµæ§‹**ï¼š
```go
type slice struct {
    ptr *T     // æŒ‡å‘åº•å±¤é™£åˆ—
    len int    // é•·åº¦
    cap int    // å®¹é‡
}
```

**æ“´å®¹è¦å‰‡ï¼ˆGo 1.18+ï¼‰**ï¼š
- cap < 256ï¼šç¿»å€
- cap >= 256ï¼šå¢é•· `(cap + 3*256) / 4`

**å¸¸è¦‹é™·é˜±**ï¼š
```go
a := []int{1, 2, 3, 4, 5}
b := a[1:3]  // b èˆ‡ a å…±ç”¨åº•å±¤é™£åˆ—
b[0] = 100   // a[1] ä¹Ÿè®Šæˆ 100ï¼
```

**æœ€ä½³å¯¦è¸**ï¼š
- ä½¿ç”¨ `make([]T, len, cap)` é åˆ†é…
- éœ€è¦ç¨ç«‹å‰¯æœ¬æ™‚ä½¿ç”¨ `copy()`

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Internals/slice_vs_array.md)

---

## ğŸ“¦ æ¨™æº–åº« (Standard Library)

### Q9: Context å¥—ä»¶å¦‚ä½•ä½¿ç”¨ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­â­ (7) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹è§£é‡‹ Context çš„è¨­è¨ˆç†å¿µã€å¸¸ç”¨å‡½æ•¸å’Œä½¿ç”¨è¦ç¯„ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**Context ç”¨é€”**ï¼š
- è«‹æ±‚å–æ¶ˆå‚³é
- è¶…æ™‚æ§åˆ¶
- è«‹æ±‚ç¯„åœå…§çš„å€¼å‚³é

**å¸¸ç”¨å‡½æ•¸**ï¼š

| å‡½æ•¸ | ç”¨é€” |
|------|------|
| `context.Background()` | æ ¹ Context |
| `context.WithCancel()` | å¯å–æ¶ˆçš„ Context |
| `context.WithTimeout()` | å¸¶è¶…æ™‚çš„ Context |
| `context.WithDeadline()` | å¸¶æˆªæ­¢æ™‚é–“çš„ Context |
| `context.WithValue()` | å‚³éè«‹æ±‚ç¯„åœçš„å€¼ |

**ä½¿ç”¨è¦ç¯„**ï¼š
1. Context ä½œç‚ºå‡½æ•¸**ç¬¬ä¸€å€‹åƒæ•¸**
2. ä¸è¦å°‡ Context å­˜åœ¨çµæ§‹é«”ä¸­
3. ä¸è¦å‚³é nil Context
4. WithValue åªç”¨æ–¼è«‹æ±‚ç¯„åœçš„æ•¸æ“š

**è¶…æ™‚æ§åˆ¶ç¯„ä¾‹**ï¼š
```go
ctx, cancel := context.WithTimeout(context.Background(), time.Second)
defer cancel()

select {
case <-ctx.Done():
    return ctx.Err()  // è¶…æ™‚æˆ–å–æ¶ˆ
case result := <-ch:
    return result
}
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Standard_Library/context_package_usage.md)

---

## ğŸŒ Web æ¡†æ¶

### Q10: Gin æ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­ (4) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹èªªæ˜ Gin çš„è·¯ç”±æ©Ÿåˆ¶ã€ä¸­é–“ä»¶å’Œæ•ˆèƒ½ç‰¹é»ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**Gin ç‰¹é»**ï¼š
- åŸºæ–¼ **httprouter**ï¼Œæ•ˆèƒ½æ¥µé«˜
- è·¯ç”±ä½¿ç”¨ **Radix Tree**
- é›¶åˆ†é…è·¯ç”±åŒ¹é…

**æ ¸å¿ƒçµ„ä»¶**ï¼š

| çµ„ä»¶ | èªªæ˜ |
|------|------|
| `gin.Engine` | è·¯ç”±å¼•æ“ |
| `gin.Context` | è«‹æ±‚ä¸Šä¸‹æ–‡ |
| `gin.RouterGroup` | è·¯ç”±åˆ†çµ„ |
| `gin.HandlerFunc` | è™•ç†å‡½æ•¸ |

**è·¯ç”±åƒæ•¸**ï¼š
```go
r.GET("/user/:id", handler)    // è·¯å¾‘åƒæ•¸
r.GET("/user/*action", handler) // é€šé…ç¬¦
```

**åƒæ•¸ç¶å®š**ï¼š
```go
c.Bind(&obj)      // è‡ªå‹•é¸æ“‡
c.BindJSON(&obj)  // JSON
c.BindQuery(&obj) // Query String
```

**éŸ¿æ‡‰æ–¹æ³•**ï¼š
```go
c.JSON(200, gin.H{"key": "value"})
c.String(200, "Hello")
c.Redirect(302, "/new")
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Frameworks/Gin/gin_framework_basics.md)

---

### Q11: å¦‚ä½•é–‹ç™¼ Gin ä¸­é–“ä»¶ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­ (6) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹è§£é‡‹ä¸­é–“ä»¶çš„åŸ·è¡Œæµç¨‹å’Œå¸¸è¦‹çš„ä¸­é–“ä»¶é¡å‹ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**ä¸­é–“ä»¶æœ¬è³ª**ï¼š`gin.HandlerFunc`

**åŸ·è¡Œæµç¨‹**ï¼š
```
Request â†’ Middleware1 â†’ Middleware2 â†’ Handler â†’ Middleware2 â†’ Middleware1 â†’ Response
```

**c.Next() çš„ä½œç”¨**ï¼š
- åŸ·è¡Œå¾ŒçºŒçš„è™•ç†å‡½æ•¸
- å½¢æˆã€Œæ´‹è”¥æ¨¡å‹ã€

**ä¸­é–“ä»¶ç¯„ä¾‹**ï¼š
```go
func Logger() gin.HandlerFunc {
    return func(c *gin.Context) {
        start := time.Now()
        
        c.Next()  // åŸ·è¡Œå¾ŒçºŒè™•ç†
        
        latency := time.Since(start)
        log.Printf("è€—æ™‚: %v", latency)
    }
}
```

**å¸¸è¦‹ä¸­é–“ä»¶**ï¼š
- æ—¥èªŒè¨˜éŒ„
- èªè­‰æˆæ¬Š
- éŒ¯èª¤æ¢å¾©ï¼ˆRecoveryï¼‰
- é™æµ
- CORS

**c.Abort() vs c.Next()**ï¼š
- `Abort()`ï¼šä¸­æ­¢å¾ŒçºŒè™•ç†
- `Next()`ï¼šç¹¼çºŒåŸ·è¡Œ

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Frameworks/Gin/gin_middleware_development.md)

---

### Q12: Gin æœ‰å“ªäº›æ•ˆèƒ½å„ªåŒ–æŠ€å·§ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­â­ (7) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹èªªæ˜ Gin æ‡‰ç”¨çš„æ•ˆèƒ½å„ªåŒ–ç­–ç•¥ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**1. ä½¿ç”¨ç‰©ä»¶æ± **ï¼š
```go
var pool = sync.Pool{
    New: func() interface{} {
        return new(Response)
    },
}
```

**2. é¿å…ä¸å¿…è¦çš„åºåˆ—åŒ–**ï¼š
- ä½¿ç”¨ `c.Data()` ç›´æ¥è¿”å›å·²åºåˆ—åŒ–çš„æ•¸æ“š
- è€ƒæ…®ä½¿ç”¨ sonic ç­‰é«˜æ•ˆ JSON åº«

**3. è·¯ç”±å„ªåŒ–**ï¼š
- æ¸›å°‘è·¯ç”±åˆ†çµ„å±¤ç´š
- é¿å…éå¤šçš„ä¸­é–“ä»¶

**4. Context å„ªåŒ–**ï¼š
- ä½¿ç”¨ `c.Set()` / `c.Get()` è€Œé Context.WithValue
- é¿å…åœ¨ Context ä¸­å­˜å„²å¤§ç‰©ä»¶

**5. ç”Ÿç”¢ç’°å¢ƒé…ç½®**ï¼š
```go
gin.SetMode(gin.ReleaseMode)
```

**6. é€£æ¥æ± è¨­ç½®**ï¼š
```go
srv := &http.Server{
    ReadTimeout:  5 * time.Second,
    WriteTimeout: 10 * time.Second,
    IdleTimeout:  120 * time.Second,
}
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Frameworks/Gin/gin_performance_best_practices.md)

---

## ğŸ”¬ é€²éšä¸»é¡Œ

### Q13: å¦‚ä½•é¿å… Goroutine æ´©æ¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­â­ (7) | **é‡è¦æ€§**: ğŸ”´ å¿…è€ƒ

è«‹èªªæ˜ Goroutine æ´©æ¼çš„å¸¸è¦‹åŸå› å’Œé é˜²æªæ–½ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**å¸¸è¦‹æ´©æ¼åŸå› **ï¼š

| åŸå›  | èªªæ˜ |
|------|------|
| Channel é˜»å¡ | ç„¡äººæ¥æ”¶/ç™¼é€ |
| ç„¡é™å¾ªç’° | æ²’æœ‰é€€å‡ºæ¢ä»¶ |
| ç­‰å¾…æ°¸ä¸ç™¼ç”Ÿçš„äº‹ä»¶ | æ­»é– |
| Context æœªå–æ¶ˆ | å¿˜è¨˜èª¿ç”¨ cancel |

**é é˜²æªæ–½**ï¼š

**1. ä½¿ç”¨ Context æ§åˆ¶ç”Ÿå‘½é€±æœŸ**ï¼š
```go
ctx, cancel := context.WithCancel(context.Background())
defer cancel()

go func() {
    for {
        select {
        case <-ctx.Done():
            return  // å„ªé›…é€€å‡º
        case data := <-ch:
            process(data)
        }
    }
}()
```

**2. ç¢ºä¿ Channel æœƒè¢«é—œé–‰**ï¼š
```go
go func() {
    defer close(ch)
    // å·¥ä½œ...
}()
```

**3. ä½¿ç”¨ Buffered Channel é¿å…é˜»å¡**

**4. ç›£æ§ Goroutine æ•¸é‡**ï¼š
```go
runtime.NumGoroutine()
```

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Concurrency/goroutine_vs_thread.md)

---

### Q14: Interface çš„åº•å±¤å¯¦ç¾æ˜¯ä»€éº¼ï¼Ÿ

**é›£åº¦**: â­â­â­â­â­â­â­ (7) | **é‡è¦æ€§**: ğŸŸ¡ é‡è¦

è«‹è§£é‡‹ Go interface çš„å…§éƒ¨çµæ§‹å’Œé¡å‹æ–·è¨€çš„æ•ˆèƒ½å½±éŸ¿ã€‚

<details>
<summary>ğŸ’¡ ç­”æ¡ˆæç¤º</summary>

**Interface åº•å±¤çµæ§‹**ï¼š

**efaceï¼ˆç©ºä»‹é¢ï¼‰**ï¼š
```go
type eface struct {
    _type *_type  // é¡å‹è³‡è¨Š
    data  unsafe.Pointer  // è³‡æ–™æŒ‡æ¨™
}
```

**ifaceï¼ˆéç©ºä»‹é¢ï¼‰**ï¼š
```go
type iface struct {
    tab  *itab    // ä»‹é¢è¡¨
    data unsafe.Pointer  // è³‡æ–™æŒ‡æ¨™
}
```

**itab çµæ§‹**ï¼š
- ä»‹é¢é¡å‹è³‡è¨Š
- å…·é«”é¡å‹è³‡è¨Š
- æ–¹æ³•è¡¨ï¼ˆè™›æ“¬å‡½æ•¸è¡¨ï¼‰

**é¡å‹æ–·è¨€**ï¼š
```go
// å®‰å…¨æ–·è¨€
v, ok := i.(Type)

// ä¸å®‰å…¨ï¼ˆå¯èƒ½ panicï¼‰
v := i.(Type)

// Type Switch
switch v := i.(type) {
case int:
    // ...
case string:
    // ...
}
```

**æ•ˆèƒ½è€ƒé‡**ï¼š
- é¡å‹æ–·è¨€æœ‰åŸ·è¡Œæ™‚é–‹éŠ·
- é »ç¹æ–·è¨€æ™‚è€ƒæ…®ä½¿ç”¨æ³›å‹ï¼ˆGo 1.18+ï¼‰

</details>

ğŸ“– [æŸ¥çœ‹å®Œæ•´ç­”æ¡ˆ](../02_Backend_Development/Programming_Languages_and_Frameworks/Go/Internals/slice_vs_array.md)

---

## ğŸ“Š å­¸ç¿’é€²åº¦æª¢æ ¸

å®Œæˆä»¥ä¸Šé¡Œç›®å¾Œï¼Œè«‹è‡ªæˆ‘è©•ä¼°ï¼š

| è©•ä¼°é …ç›® | è‡ªè©• |
|----------|------|
| èƒ½è§£é‡‹ Goroutine vs Thread | â¬œ |
| ç†è§£ Buffered vs Unbuffered Channel | â¬œ |
| èƒ½ä½¿ç”¨ Select å¯¦ç¾å¤šè·¯è¤‡ç”¨ | â¬œ |
| èƒ½å€åˆ† Mutex å’Œ RWMutex | â¬œ |
| æ­£ç¢ºä½¿ç”¨ WaitGroup | â¬œ |
| ç†è§£ä¸‰è‰²æ¨™è¨˜æ³• GC | â¬œ |
| æŒæ¡ Defer åŸ·è¡Œé †åº | â¬œ |
| ç†è§£ Slice åº•å±¤çµæ§‹ | â¬œ |
| èƒ½æ­£ç¢ºä½¿ç”¨ Context | â¬œ |
| ç†Ÿæ‚‰ Gin æ¡†æ¶åŸºç¤ | â¬œ |
| èƒ½é–‹ç™¼ Gin ä¸­é–“ä»¶ | â¬œ |
| çŸ¥é“å¦‚ä½•é¿å… Goroutine æ´©æ¼ | â¬œ |

**å»ºè­°**ï¼šæœªèƒ½å®Œæ•´å›ç­”çš„é¡Œç›®ï¼Œè«‹å›åˆ°å°æ‡‰çš„è©³ç´°æ–‡ç« æ·±å…¥å­¸ç¿’ã€‚
